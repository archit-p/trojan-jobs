{"version":3,"file":"component---src-pages-index-js-fd58f057d9ddf93aadc0.js","mappings":"gMAAA,EAAe,IAA0B,sDC+IzC,MA1IA,WACE,IAC8BA,GAC1BC,EAAAA,EAAAA,gBAAe,cADjBC,kBAAqBC,MAkBvB,GAAwCC,EAAAA,EAAAA,UAASJ,GAA1CK,EAAP,KAAqBC,EAArB,KAsCA,OACE,gCACE,gBAACC,EAAA,EAAD,KACE,kEACA,wBAAMC,IAAI,OAAOC,KAAK,eAAeC,KAAMC,KAE7C,0BAAQC,UAAU,iBAChB,uBAAKA,UAAU,wCACb,2BACE,sBAAIA,UAAU,yBAAd,+BACA,uBAAKC,KAAK,eAAeD,UAAU,iBAAnC,+BAIF,uBAAKA,UAAU,wCACb,qBACEA,UAAU,uDACVF,KAAK,2BAFP,iBASN,wBAAME,UAAU,iCACd,uBAAKA,UAAU,0BACb,2BAASA,UAAU,QACjB,2BACE,yBACEH,KAAK,OACLG,UAAU,4DACVE,YAAY,YACZC,SAAU,SAACC,GAAD,OApEJC,EAoEsBD,EAAEE,OAAOC,WAlE/Cb,EADEW,EAEAjB,EAAKoB,QAAO,SAACC,GACX,IC/B0CC,EAASC,ED+B7CC,EAAQ,IAAIC,OAAOC,OAAOH,IAAlB,IC/B4BD,ED+B5B,QC9BjBC,IACHA,EAAMD,EAAQK,MAAM,IAGtBL,EAAQC,IAAMA,ED0BQ,ECzBfD,GDyBuCL,EAAQW,gBAC9C,QAAIP,EAAIQ,YAAYC,MAAMF,cAAcG,MAAMP,MAG1CH,EAAIQ,YAAYG,SAASJ,cAAcG,MAAMP,IAI/CH,EAAIQ,YAAYI,KAAKb,QAAO,SAACc,GAAD,OAASA,EAAIN,cAAcG,MAAMP,MAC1DW,OAAS,KAQFnC,GArBpB,IAAoBiB,MAuEV,uBAAKL,UAAU,QACb,yBACEA,UAAU,6BACVH,KAAK,WACL2B,GAAG,gBACHrB,SAAU,SAACC,GAAD,OAnDAqB,EAmDsBrB,EAAEE,OAAOoB,QAlDrDC,QAAQC,IAAIH,QAEV/B,EADE+B,EAEAhC,EAAae,QAAO,SAACC,GAAD,OAASA,EAAIQ,YAAYI,KAAKQ,SAAS,WAG7CzC,GAPpB,IAAwBqC,KAqDZ,yBACEK,QAAQ,gBACR9B,UAAU,yCAFZ,eAQHP,EAAasC,KAAI,SAACtB,GAAD,OAChB,gCACE,gBAAC,EAAAuB,KAAD,CAAMC,GAAIxB,EAAIyB,OAAOC,MACnB,2BAASnC,UAAU,0CACjB,sBAAIA,UAAU,uBACXS,EAAIQ,YAAYC,OAGnB,uBAAKjB,KAAK,eAAeD,UAAU,iBAChCS,EAAIQ,YAAYG,UAEnB,0BAAQpB,UAAU,oDAChB,4BAAOS,EAAIQ,YAAYmB,UACtB3B,EAAIQ,YAAYI,KAAKU,KAAI,SAACT,GAAD,OACxB,gCACE,wBAAMtB,UAAU,QAAhB,KACA,wBAAMA,UAAU,QAAQsB","sources":["webpack://trojan-jobs/./src/images/favicon.png","webpack://trojan-jobs/./src/pages/index.js","webpack://trojan-jobs/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/favicon-b2e7e6cb1126a9af1b965463ba0286b1.png\";","import React, { useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useStaticQuery, graphql, Link } from \"gatsby\";\nimport Favicon from \"../images/favicon.png\";\n\nfunction Index() {\n  let {\n    allMarkdownRemark: { nodes: jobs },\n  } = useStaticQuery(graphql`\n    query DataQuery {\n      allMarkdownRemark(sort: { fields: frontmatter___postedAt, order: DESC }) {\n        nodes {\n          frontmatter {\n            title\n            employer\n            postedAt(fromNow: true)\n            tags\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  `);\n  const [filteredJobs, setFilteredJobs] = useState(jobs);\n\n  function searchJobs(keyword) {\n    if (keyword) {\n      setFilteredJobs(\n        jobs.filter((job) => {\n          const regex = new RegExp(String.raw`${keyword.toLowerCase()}`);\n          if (job.frontmatter.title.toLowerCase().match(regex)) {\n            return true;\n          }\n          if (job.frontmatter.employer.toLowerCase().match(regex)) {\n            return true;\n          }\n          if (\n            job.frontmatter.tags.filter((tag) => tag.toLowerCase().match(regex))\n              .length > 0\n          ) {\n            return true;\n          }\n          return false;\n        })\n      );\n    } else {\n      setFilteredJobs(jobs);\n    }\n  }\n\n  function togglePaidOnly(selected) {\n    console.log(selected);\n    if (selected) {\n      setFilteredJobs(\n        filteredJobs.filter((job) => job.frontmatter.tags.includes(\"Paid\"))\n      );\n    } else {\n      setFilteredJobs(jobs);\n    }\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Trojan Jobs - Find On-Campus Jobs</title>\n        <link rel=\"icon\" type=\"image/x-icon\" href={Favicon}></link>\n      </Helmet>\n      <header className=\"py-3 bg-white\">\n        <div className=\"max-w-3xl mx-auto px-3 flex flex-row\">\n          <div>\n            <h1 className=\"text-lg font-semibold\">Trojan Jobs üë©‚Äçüíªüë®‚Äçüíºüë©‚Äçüî¨</h1>\n            <div role=\"doc-subtitle\" className=\"text-gray-600\">\n              Find on-campus jobs at USC\n            </div>\n          </div>\n          <div className=\"ml-auto flex flex-col justify-center\">\n            <a\n              className=\"bg-red-800 rounded-md shadow-sm py-2 px-4 text-white\"\n              href=\"mailto:architpa@usc.edu\"\n            >\n              Post a Job\n            </a>\n          </div>\n        </div>\n      </header>\n      <main className=\"bg-slate-50 py-3 min-h-screen\">\n        <div className=\"max-w-3xl mx-auto px-3\">\n          <section className=\"mt-2\">\n            <div>\n              <input\n                type=\"text\"\n                className=\"w-full border-2 rounded-md border-gray-200 p-2 font-light\"\n                placeholder=\"Search...\"\n                onChange={(e) => searchJobs(e.target.value)}\n              />\n            </div>\n            <div className=\"mt-2\">\n              <input\n                className=\"rounded-md border-gray-200\"\n                type=\"checkbox\"\n                id=\"paid-checkbox\"\n                onChange={(e) => togglePaidOnly(e.target.checked)}\n              />\n              <label\n                htmlFor=\"paid-checkbox\"\n                className=\"ml-2 font-light text-gray-600 text-sm\"\n              >\n                Paid only\n              </label>\n            </div>\n          </section>\n          {filteredJobs.map((job) => (\n            <>\n              <Link to={job.fields.slug}>\n                <article className=\"p-3 bg-white mt-3 rounded-md shadow-sm\">\n                  <h2 className=\"text-lg font-medium\">\n                    {job.frontmatter.title}\n                  </h2>\n\n                  <div role=\"doc-subtitle\" className=\"text-gray-600\">\n                    {job.frontmatter.employer}\n                  </div>\n                  <footer className=\"text-gray-600 text-sm capitalize mt-2 font-light\">\n                    <time>{job.frontmatter.postedAt}</time>\n                    {job.frontmatter.tags.map((tag) => (\n                      <>\n                        <span className=\"ml-2\">‚Ä¢</span>\n                        <span className=\"ml-2\">{tag}</span>\n                      </>\n                    ))}\n                  </footer>\n                </article>\n              </Link>\n            </>\n          ))}\n        </div>\n      </main>\n    </>\n  );\n}\n\nexport default Index;\n","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}"],"names":["jobs","useStaticQuery","allMarkdownRemark","nodes","useState","filteredJobs","setFilteredJobs","Helmet","rel","type","href","Favicon","className","role","placeholder","onChange","e","keyword","target","value","filter","job","strings","raw","regex","RegExp","String","slice","toLowerCase","frontmatter","title","match","employer","tags","tag","length","id","selected","checked","console","log","includes","htmlFor","map","Link","to","fields","slug","postedAt"],"sourceRoot":""}